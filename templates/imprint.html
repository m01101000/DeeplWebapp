<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imprint</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/site.css')}}" id="site-css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/imprint.css')}}" id="imprint-css">
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Function to detect user's preferred color scheme
            function detectColorScheme() {
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    return 'dark';
                } else {
                    return 'light';
                }
            }

            // Load appropriate CSS based on color scheme
            var colorScheme = detectColorScheme();
            var siteCss = '/static/css/site-' + colorScheme + '.css';
            var dashboardCss = '/static/css/imprint-' + colorScheme + '.css';
            document.getElementById('site-css').setAttribute('href', siteCss);
            document.getElementById('imprint-css').setAttribute('href', dashboardCss);

            // Send color scheme to Flask
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "/update_color_scheme", true);
            xhr.setRequestHeader('Content-Type', 'application/json; charset=utf-8');
            xhr.send(JSON.stringify({color_scheme: colorScheme}));
        });

        // Function to toggle menu visibility
        function toggleMenu() {
            var menu = document.getElementById("navbar-mobile");
            menu.style.display = menu.style.display === "none" ? "block" : "none";

            // Toggle section visibility based on menu visibility
            var sections = document.querySelectorAll("section");
            sections.forEach(function(section) {
                section.style.display = menu.style.display === "none" ? "block" : "none";
            });
        }

        // Hide menu on page load
        document.addEventListener("DOMContentLoaded", function() {
            var menu = document.getElementById("navbar-mobile");
            menu.style.display = "none";

            // Show sections by default
            var sections = document.querySelectorAll("section");
            sections.forEach(function(section) {
                section.style.display = "block";
            });
        });
    </script>
</head>
<body>

    <div class="mobile-nav-button-open">
        <div>
            <img src="{{ url_for('static', filename='images/menu.png') }}" style="width: 2rem; height: 2rem; margin: 2rem;" onclick="toggleMenu()"/>
            <a>Imprint</a>
        </div>
    </div>

    <nav class='navbar-mobile' id="navbar-mobile">
        <br>
        <div>
            <a class='mobile-selectedmenu' href='dashboard'>Dashboard</a>
            <br><br>
            <a class='mobile-selectedmenu' href='tutorials'>Tutorials</a>
            <br><br>
            <a class='mobile-selectedmenu' href='EA1'>EA 1</a>
            <br><br>
            <a style='text-decoration: line-through;'>EA 2</a>
            <br><br>
            <a style='text-decoration: line-through;'>EA 3</a>
        </div>
        <br><br>
        <div>
            <a class='logout' href='logout'>Logout</a>
        </div>
    </nav>

    <nav class='navbar'>
        <div>
            <a class='selectedmenu' href='dashboard'>Dashboard</a>
        </div>
        <div>
            <a class='selectedmenu' href='tutorials'>Tutorials</a>
            <a class='selectedmenu' href='EA1'>EA 1</a>
            <a style='color:rgba(185, 185, 185, 0.3); text-decoration: line-through;'>EA 2</a>
            <a style='color:rgba(185, 185, 185, 0.3); text-decoration: line-through;'>EA 3</a>
        </div>
        <div>
            <a class='logout' href='logout'>Logout</a>
        </div>
    </nav>
    
    <section>
        <h2>Welcome to my website!</h2>
        <p>Imprint coming soon</p>
    </section>

    <section id="section">
        <div class="grid-container">
            <div class="headline">
                <a>placeholder</a>
            </div>
          </div>
    </section>
    <br>
    <br><br>
    <footer>
        <a>Imprint</a>
    </footer>
</body>
</html>
